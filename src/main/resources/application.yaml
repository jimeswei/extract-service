# ========================================
# 智能文本提取服务 - 系统架构设计文档配置
# ========================================

server:
  port: 2701
  
spring:
  application:
    name: extract-service
    
# MCP SSE 核心配置 - 第3章架构要求
ai:
  mcp:
    server:
      name: intelligent-extraction-service
      type: ASYNC
      version: 1.0.0
      enabled: true
      sse-endpoint: /sse
      sse-message-endpoint: /mcp/message
      request-timeout: 30000
      capabilities:
        tool: true
        resource: true
        prompt: true
        completion: true
      
# 智能配置：自适应参数 - 第4章处理引擎配置
extraction:
  ai:
    providers:
      deepseek:
        api-key: sk-3b61aec308d543be81a499e1c82cf2d4
        url: https://api.deepseek.com/v1/chat/completions
        timeout: 30s
        retry-count: 3
        fallback-enabled: true
      local:
        enabled: true
        confidence-threshold: 0.7
        
  cache:
    l1:
      type: caffeine
      max-size: 1000
      expire-after-write: 1h
    l2:
      type: file
      max-size: 10000
      expire-after-write: 24h
      
  processing:
    batch-size: 10
    parallel-threads: 4
    timeout: 60s
    
# 智能监控配置 - 第9章监控架构
management:
  endpoints:
    web:
      exposure:
        include: health,metrics,info
  prometheus:
    metrics:
      export:
        enabled: true
    distribution:
      percentiles:
        http.server.requests: 0.5,0.95,0.99

# 日志配置
logging:
  level:
    com.datacenter.extract: INFO
    org.springframework.web: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%logger{36}] - %msg%n" 